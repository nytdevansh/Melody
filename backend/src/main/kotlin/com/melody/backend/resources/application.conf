ktor {
    deployment {
        port = 8080
        port = ${?PORT}
        host = "0.0.0.0"
    }
    application {
        modules = [ com.melody.backend.ApplicationKt.module ]
    }
}

# Backblaze B2 Configuration
b2 {
    keyId = ${?B2_KEY_ID}
    applicationKey = ${?B2_APPLICATION_KEY}
    bucketId = ${?B2_BUCKET_ID}
    bucketName = ${?B2_BUCKET_NAME}
    cdnDomain = ${?CDN_DOMAIN}
}

# Database Configuration
database {
    url = ${?DATABASE_URL}
    driver = ${?DB_DRIVER}
    user = ${?DB_USER}
    password = ${?DB_PASSWORD}
}

# Development defaults (override with environment variables)
development {
    b2 {
        keyId = "your_b2_key_id_here"
        applicationKey = "your_b2_application_key_here"
        bucketId = "your_bucket_id_here"
        bucketName = "melody-music-storage"
        cdnDomain = "cdn.yourdomain.com"
    }
}